<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>X·ªï S·ªë CODEGYM</title>
  <style>
    /* To√†n b·ªô trang */
    body {
      font-family: "Poppins", sans-serif;
      background: linear-gradient(135deg, #1e3c72, #2a5298);
      color: #fff;
      text-align: center;
      padding: 30px;
    }

    h1 {
      font-size: 3rem;
      margin-bottom: 20px;
      text-transform: uppercase;
      letter-spacing: 2px;
      text-shadow: 2px 2px 10px rgba(0,0,0,0.5);
      animation: glow 2s infinite alternate;
    }

    @keyframes glow {
      from { text-shadow: 0 0 5px #fff, 0 0 10px #00eaff; }
      to { text-shadow: 0 0 20px #ff00ff, 0 0 40px #ff00ff; }
    }

    /* N√∫t b·∫•m */
    button {
      background: linear-gradient(45deg, #ff6a00, #ee0979);
      color: white;
      border: none;
      padding: 12px 25px;
      margin: 10px;
      border-radius: 25px;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease-in-out;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    }

    button:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(255,255,255,0.6);
    }

    /* √î nh·∫≠p s·ªë */
    input[type=number] {
      width: 60px;
      padding: 10px;
      margin: 5px;
      border-radius: 10px;
      border: 2px solid #fff;
      background: rgba(255,255,255,0.1);
      color: #fff;
      font-size: 1rem;
      text-align: center;
      outline: none;
      transition: all 0.3s ease-in-out;
    }

    input[type=number]:focus {
      border-color: #ff6a00;
      background: rgba(255,255,255,0.2);
      transform: scale(1.1);
    }

    /* K·∫øt qu·∫£ x·ªï s·ªë */
    #result, #ketQuaVe {
      margin-top: 20px;
      font-size: 1.2rem;
      line-height: 1.8;
      background: rgba(0,0,0,0.3);
      padding: 15px;
      border-radius: 15px;
      animation: fadeIn 1s ease;
    }

    /* Hi·ªáu ·ª©ng fade in */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* L·ªói */
    #error {
      color: #ff4b5c;
      font-weight: bold;
      margin-top: 10px;
    }
  </style>
</head>
<body>
<div>
  <h1>X·ªï S·ªë CODEGYM</h1>

  <button onclick="manager.addTicket()">üéüÔ∏è Mua v√© m·ªõi</button>
  <button id="ketQuaXoSo" onclick="manager.ketQuaXoSo()">üé∞ Xem K·∫øt Qu·∫£</button>

  <div id="numberSoXo" style="display: none; margin-top:20px;">
    <input id="o1" type="number" min="1" max="99">
    <input id="o2" type="number" min="1" max="99">
    <input id="o3" type="number" min="1" max="99">
    <input id="o4" type="number" min="1" max="99">
    <input id="o5" type="number" min="1" max="99">
    <input id="o6" type="number" min="1" max="99">
    <br>
    <button onclick="manager.confirmTicket()">‚úÖ X√°c nh·∫≠n v√©</button>
  </div>

  <p id="error"></p>

  <div style="margin-top:20px;">
    <h3>üìú Danh S√°ch V√© ƒê√£ Mua</h3>
    <div id="result"></div>
  </div>

  <div style="margin-top:20px;">
    <h3>üèÜ K·∫øt Qu·∫£ Tr√∫ng Th∆∞·ªüng</h3>
    <p id="ketQuaVe"></p>
  </div>
</div>

<script>
  class Ticket{
    constructor(so1,so2,so3,so4,so5,so6) {
      this.numbers=[so1,so2,so3,so4,so5,so6];
    }
  }

  class TicketManager{
    constructor() {
      this.listTicket=[];
    }

    checkVe(n) {
      n = +n;
      return n >= 1 && n <= 99;
    }

    getNumberTicket(){
      let arr=[];
      for (let i = 1; i <= 6; i++) {
        let val = document.getElementById("o" + i).value.trim();
        if (!this.checkVe(val)) {
          document.getElementById("error").innerText = "‚ö†Ô∏è M·ªói s·ªë ph·∫£i t·ª´ 1-99 v√† kh√¥ng ƒë·ªÉ tr·ªëng!";
          return null;
        }
        arr.push(+val);
      }
      document.getElementById("error").innerText = "";
      return arr;
    }

    addTicket(){
      if (this.listTicket.length < 4) {
        let n=+prompt("---------- L·ª±a ch·ªçn ----------\n" +
                "1. B·∫°n t·ª± ch·ªçn s·ªë \n" +
                "2. Random v√© t·ª± ƒë·ªông \n"
        );

        if(n===1){
          document.getElementById("numberSoXo").style.display="block";
        }else if(n===2){
          let arr = [];
          while (arr.length < 6) {
            arr.push(Math.floor(Math.random() * 99) + 1);
          }
          let ve = new Ticket(...arr);
          this.listTicket.push(ve);
          this.displayTickets();
        }
      }else {
        document.getElementById("error").innerHTML = "‚ö†Ô∏è B·∫°n ch·ªâ ƒë∆∞·ª£c mua t·ªëi ƒëa 4 v√©!";
      }
    }

    confirmTicket(){
      let numbers = this.getNumberTicket();
      if (!numbers) return;
      let ve = new Ticket(...numbers);
      this.listTicket.push(ve);
      this.displayTickets();
      document.getElementById("numberSoXo").style.display="none";
    }

    displayTickets(){
      let html = "";
      this.listTicket.forEach((ve, idx) => {
        html += `üéüÔ∏è V√© ${idx+1}: <b>${ve.numbers.join(", ")}</b><br>`;
      });
      document.getElementById("result").innerHTML = html;
    }

    ketQuaXoSo(){
      let ketQua=[11,12,13,14,15,16];
      // for (let i = 0; i < 6; i++) {
      //   // c√≥ th·ªÉ hi·ªÉn th·ªã ƒë·∫πp h∆°n n·∫øu mu·ªën
      // }
      this.compare(ketQua);
    }

    compare(ketQua) {
      let output = "";
      this.listTicket.forEach((ve, idx) => {
        let count = 0;
        for (let i = 0; i < ve.numbers.length; i++) {
          if (ve.numbers[i] === ketQua[i]) count++;
        }

        if (count === 3) output += `üéâ V√© ${idx+1}: tr√∫ng <b>gi·∫£i khuy·∫øn kh√≠ch</b><br>`;
        else if (count === 4) output += `ü•â V√© ${idx+1}: tr√∫ng <b>gi·∫£i ba</b><br>`;
        else if (count === 5) output += `ü•à V√© ${idx+1}: tr√∫ng <b>gi·∫£i nh√¨</b><br>`;
        else if (count === 6) output += `üèÜ V√© ${idx+1}: tr√∫ng <b>gi·∫£i ƒë·∫∑c bi·ªát</b> üéä<br>`;
        else output += `üò¢ V√© ${idx+1}: ch√∫c may m·∫Øn l·∫ßn sau<br>`;
      });
      document.getElementById("ketQuaVe").innerHTML = output;
    }
  }

  let manager= new TicketManager();
</script>
</body>
</html>
